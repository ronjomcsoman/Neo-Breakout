<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Neo Breakout</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <style>
    body {
      margin: 0;
      background: radial-gradient(circle at top, #1e293b 0, #020617 55%, #000 100%);
      color: #e5e7eb;
      font-family: system-ui, -apple-system, sans-serif;
      touch-action: none; /* Prevents scrolling while playing */
      overflow: hidden;
    }

    canvas {
      background: radial-gradient(circle at 20% 0%, #1f2937 0, #020617 60%, #000 100%);
      border-radius: 0.75rem;
      border: 1px solid rgba(148, 163, 184, 0.2);
      max-width: 100%;
      height: auto;
    }

    .panel-card {
      background: rgba(15, 23, 42, 0.7);
      border: 1px solid rgba(148, 163, 184, 0.2);
      backdrop-filter: blur(4px);
    }
  </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-2 md:p-4">
  <div class="w-full max-w-6xl mx-auto">
    <header class="mb-4 md:mb-8 flex justify-between items-start">
      <div>
        <h1 class="text-2xl md:text-4xl font-bold text-cyan-400 tracking-wider uppercase">Neo Breakout</h1>
      </div>
      <div class="text-right text-[10px] md:text-xs text-slate-400 uppercase tracking-widest">
        <p class="hidden md:block">Move: <span class="text-white">Mouse / Keys</span></p>
        <p>Launch: <span class="text-white">Tap Screen / Space</span></p>
      </div>
    </header>

    <main class="flex flex-col md:flex-row gap-4 md:gap-6 items-start">
      <section class="flex-1 flex justify-center w-full">
        <canvas id="gameCanvas" width="960" height="540"></canvas>
      </section>

      <aside class="w-full md:w-64 space-y-3">
        <section class="panel-card rounded-xl p-4">
          <h2 class="text-xs font-semibold text-slate-200 mb-2 uppercase tracking-tighter">Mission Status</h2>
          <div class="flex justify-between md:grid md:grid-cols-3 gap-2">
            <div><p class="text-[10px] text-slate-500">Score</p><p id="score" class="text-cyan-300 font-bold">0</p></div>
            <div><p class="text-[10px] text-slate-500">Lives</p><p id="lives" class="text-rose-300 font-bold">3</p></div>
            <div><p class="text-[10px] text-slate-500">Level</p><p id="level" class="text-emerald-300 font-bold">1</p></div>
          </div>
        </section>
      </aside>
    </main>
       <footer class="mt-6 md:mt-8 text-center pb-4">
      <p class="text-xs text-slate-400/80">
        Developed with <span class="text-rose-400 inline-block">â™¥</span> by 
        <a href="https://techwithron.co.in" target="_blank" rel="noopener noreferrer" class="text-cyan-400 hover:text-cyan-300 font-medium underline decoration-dotted underline-offset-2 transition-colors">
          techwithron.co.in
        </a>
      </p>
    </footer>
  </div>

  <script>
    (function () {
      const canvas = document.getElementById('gameCanvas');
      const ctx = canvas.getContext('2d');
      const scoreEl = document.getElementById('score');
      const livesEl = document.getElementById('lives');

      const GAME = {
        score: 0, lives: 3,
        paddle: { x: 420, y: 490, w: 120, h: 12 },
        balls: [], bricks: [], 
        active: false, stuck: true,
        speed: 4 
      };

      function initLevel() {
        GAME.bricks = [];
        const rows = 4, cols = 9, w = 92, h = 24, gap = 8;
        const colors = ['#00f5ff', '#00b8c0', '#008a90', '#22c55e'];
        const startX = (canvas.width - (cols * (w + gap))) / 2;
        for(let r=0; r<rows; r++) {
          for(let c=0; c<cols; c++) {
            GAME.bricks.push({ x: startX + c*(w+gap), y: 80 + r*(h+gap), w, h, color: colors[r], active: true });
          }
        }
        resetBall();
      }

      function resetBall() {
        GAME.stuck = true;
        GAME.balls = [{ x: GAME.paddle.x + GAME.paddle.w/2, y: GAME.paddle.y - 10, dx: 0, dy: 0, r: 7 }];
      }

      function launchBall() {
        if(GAME.stuck) {
          GAME.active = true;
          GAME.stuck = false;
          GAME.balls[0].dx = (Math.random() - 0.5) * (GAME.speed * 0.5);
          GAME.balls[0].dy = -GAME.speed;
        }
      }

      function update() {
        if (!GAME.active || GAME.stuck) return;
        GAME.balls.forEach((ball, bIdx) => {
          ball.x += ball.dx; ball.y += ball.dy;
          if (ball.x + ball.r > canvas.width || ball.x - ball.r < 0) ball.dx *= -1;
          if (ball.y - ball.r < 0) ball.dy *= -1;
          if (ball.y + ball.r > GAME.paddle.y && ball.x > GAME.paddle.x && ball.x < GAME.paddle.x + GAME.paddle.w) {
            let hitPos = (ball.x - (GAME.paddle.x + GAME.paddle.w/2)) / (GAME.paddle.w/2);
            ball.dx = hitPos * GAME.speed;
            ball.dy = -Math.sqrt(Math.abs(Math.pow(GAME.speed, 2) - Math.pow(ball.dx, 2)));
            ball.y = GAME.paddle.y - ball.r;
          }
          GAME.bricks.forEach(brick => {
            if (brick.active && ball.x > brick.x && ball.x < brick.x + brick.w && ball.y > brick.y && ball.y < brick.y + brick.h) {
              brick.active = false; ball.dy *= -1; GAME.score += 10; scoreEl.innerText = GAME.score;
            }
          });
          if (ball.y > canvas.height) {
            GAME.balls.splice(bIdx, 1);
            if (GAME.balls.length === 0) {
              GAME.lives--; livesEl.innerText = GAME.lives;
              GAME.active = false; resetBall();
              if (GAME.lives <= 0) { alert("Game Over"); location.reload(); }
            }
          }
        });
      }

      function draw() {
        ctx.fillStyle = '#020617';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.strokeStyle = '#1e293b'; ctx.lineWidth = 0.5;
        for(let i=0; i<canvas.width; i+=40) { ctx.beginPath(); ctx.moveTo(i,0); ctx.lineTo(i,canvas.height); ctx.stroke(); }
        for(let i=0; i<canvas.height; i+=40) { ctx.beginPath(); ctx.moveTo(0,i); ctx.lineTo(canvas.width,i); ctx.stroke(); }
        GAME.bricks.forEach(b => { if (b.active) { ctx.fillStyle = b.color; ctx.fillRect(b.x, b.y, b.w, b.h); }});
        ctx.fillStyle = '#ffffff'; ctx.fillRect(GAME.paddle.x, GAME.paddle.y, GAME.paddle.w, GAME.paddle.h);
        GAME.balls.forEach(b => {
          if (GAME.stuck) b.x = GAME.paddle.x + GAME.paddle.w/2;
          ctx.beginPath(); ctx.arc(b.x, b.y, b.r, 0, Math.PI*2); ctx.fill();
        });
        if(GAME.stuck) {
            ctx.fillStyle = 'rgba(2, 6, 23, 0.95)'; ctx.fillRect(250, 220, 460, 80);
            ctx.fillStyle = '#ffffff'; ctx.textAlign = 'center'; ctx.font = '700 18px Inter';
            ctx.fillText("NEO BREAKOUT", canvas.width/2, 250);
            ctx.font = '12px Inter'; ctx.fillStyle = '#64748b';
            ctx.fillText("TAP SCREEN OR PRESS SPACE TO START", canvas.width/2, 280);
            ctx.textAlign = 'left';
        }
        update();
        requestAnimationFrame(draw);
      }

      // --- MOBILE & MOUSE CONTROLS ---
      function handleMove(clientX) {
        const rect = canvas.getBoundingClientRect();
        const x = (clientX - rect.left) * (canvas.width / rect.width);
        GAME.paddle.x = Math.max(0, Math.min(canvas.width - GAME.paddle.w, x - GAME.paddle.w/2));
      }

      canvas.addEventListener('mousemove', (e) => handleMove(e.clientX));
      
      canvas.addEventListener('touchmove', (e) => {
        e.preventDefault(); // Prevents page wobble
        handleMove(e.touches[0].clientX);
      }, { passive: false });

      // Tap to Launch (Mobile)
      canvas.addEventListener('touchstart', (e) => {
        e.preventDefault();
        launchBall();
      }, { passive: false });

      // Space to Launch (Desktop)
      window.addEventListener('keydown', (e) => {
        if(e.code === 'Space') launchBall();
      });

      initLevel();
      draw();
    })();
  </script>
</body>
</html>
